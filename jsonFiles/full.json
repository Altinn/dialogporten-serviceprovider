{
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "id": {
      "type": [
        "string",
        "null"
      ],
      "description": "A self-defined UUIDv7 may be provided in order to support idempotent creation of dialogs. If not provided, a new UUIDv7 will be generated.",
      "format": "guid"
    },
    "serviceResource": {
      "type": "string",
      "description": "The service identifier for the service that the dialog is related to in URN-format.\nThis corresponds to a resource in the Altinn Resource Registry, which the authenticated organization\nmust own, i.e., be listed as the \"competent authority\" in the Resource Registry entry."
    },
    "party": {
      "type": "string",
      "description": "The party code representing the organization or person that the dialog belongs to in URN format"
    },
    "progress": {
      "type": [
        "integer",
        "null"
      ],
      "description": "Advisory indicator of progress, represented as 1-100 percentage value. 100% representing a dialog that has come\nto a natural completion (successful or not).",
      "format": "int32",
      "minimum": -2147483648,
      "maximum": 2147483647
    },
    "extendedStatus": {
      "type": [
        "string",
        "null"
      ],
      "description": "Arbitrary string with a service-specific indicator of status, typically used to indicate a fine-grained state of\nthe dialog to further specify the \"status\" enum."
    },
    "externalReference": {
      "type": [
        "string",
        "null"
      ],
      "description": "Arbitrary string with a service-specific reference to an external system or service."
    },
    "visibleFrom": {
      "type": [
        "string",
        "null"
      ],
      "description": "The timestamp when the dialog should be made visible for authorized end users. If not provided, the dialog will be\nimmediately available.",
      "format": "date-time"
    },
    "dueAt": {
      "type": [
        "string",
        "null"
      ],
      "description": "The due date for the dialog. Dialogs past due date might be marked as such in frontends but will still be available.",
      "format": "date-time"
    },
    "process": {
      "type": [
        "string",
        "null"
      ],
      "description": "Optional process identifier used to indicate a business process this dialog belongs to "
    },
    "precedingProcess": {
      "type": [
        "string",
        "null"
      ],
      "description": "Optional preceding process identifier to indicate the business process that preceded the process indicated in the \"Process\" field. Cannot be set without also \"Process\" being set."
    },
    "expiresAt": {
      "type": [
        "string",
        "null"
      ],
      "description": "The expiration date for the dialog. This is the last date when the dialog is available for the end user.\n            \nAfter this date is passed, the dialog will be considered expired and no longer available for the end user in any\nAPI. If not supplied, the dialog will be considered to never expire. This field can be changed after creation.",
      "format": "date-time"
    },
    "createdAt": {
      "type": "string",
      "description": "If set, will override the date and time when the dialog is set as created\nIf not supplied, the current date /time will be used.",
      "format": "date-time"
    },
    "updatedAt": {
      "type": "string",
      "description": "If set, will override the date and time when the dialog is set as last updated\nIf not supplied, the current date /time will be used.",
      "format": "date-time"
    },
    "status": {
      "type": "string",
      "description": "",
      "x-enumNames": [
        "New",
        "InProgress",
        "Draft",
        "Sent",
        "RequiresAttention",
        "Completed"
      ],
      "enum": [
        "New",
        "InProgress",
        "Draft",
        "Sent",
        "RequiresAttention",
        "Completed"
      ]
    },
    "content": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "title": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "value": {
              "type": "array",
              "description": "A list of localizations for the content",
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "value": {
                    "type": "string",
                    "description": "The localized text or URI reference"
                  },
                  "languageCode": {
                    "type": "string",
                    "description": "The language code of the localization in ISO 639-1 format"
                  }
                }
              }
            },
            "mediaType": {
              "type": "string",
              "description": "Media type of the content (plaintext, Markdown). Can also indicate that the content is embeddable."
            }
          }
        },
        "summary": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "value": {
              "type": "array",
              "description": "A list of localizations for the content",
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "value": {
                    "type": "string",
                    "description": "The localized text or URI reference"
                  },
                  "languageCode": {
                    "type": "string",
                    "description": "The language code of the localization in ISO 639-1 format"
                  }
                }
              }
            },
            "mediaType": {
              "type": "string",
              "description": "Media type of the content (plaintext, Markdown). Can also indicate that the content is embeddable."
            }
          }
        },
        "senderName": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "value": {
              "type": "array",
              "description": "A list of localizations for the content",
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "value": {
                    "type": "string",
                    "description": "The localized text or URI reference"
                  },
                  "languageCode": {
                    "type": "string",
                    "description": "The language code of the localization in ISO 639-1 format"
                  }
                }
              }
            },
            "mediaType": {
              "type": "string",
              "description": "Media type of the content (plaintext, Markdown). Can also indicate that the content is embeddable."
            }
          }
        },
        "additionalInfo": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "value": {
              "type": "array",
              "description": "A list of localizations for the content",
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "value": {
                    "type": "string",
                    "description": "The localized text or URI reference"
                  },
                  "languageCode": {
                    "type": "string",
                    "description": "The language code of the localization in ISO 639-1 format"
                  }
                }
              }
            },
            "mediaType": {
              "type": "string",
              "description": "Media type of the content (plaintext, Markdown). Can also indicate that the content is embeddable."
            }
          }
        },
        "extendedStatus": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "value": {
              "type": "array",
              "description": "A list of localizations for the content",
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "value": {
                    "type": "string",
                    "description": "The localized text or URI reference"
                  },
                  "languageCode": {
                    "type": "string",
                    "description": "The language code of the localization in ISO 639-1 format"
                  }
                }
              }
            },
            "mediaType": {
              "type": "string",
              "description": "Media type of the content (plaintext, Markdown). Can also indicate that the content is embeddable."
            }
          }
        },
        "mainContentReference": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "value": {
              "type": "array",
              "description": "A list of localizations for the content",
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "value": {
                    "type": "string",
                    "description": "The localized text or URI reference"
                  },
                  "languageCode": {
                    "type": "string",
                    "description": "The language code of the localization in ISO 639-1 format"
                  }
                }
              }
            },
            "mediaType": {
              "type": "string",
              "description": "Media type of the content (plaintext, Markdown). Can also indicate that the content is embeddable."
            }
          }
        }
      }
    },
    "searchTags": {
      "type": "array",
      "description": "A list of words (tags) that will be used in dialog search queries. Not visible in end-user DTO.",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "value": {
            "type": "string",
            "description": "A search tag value."
          }
        }
      }
    },
    "attachments": {
      "type": "array",
      "description": "The attachments associated with the dialog (on an aggregate level)",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "displayName": {
            "type": "array",
            "description": "The display name of the attachment that should be used in GUIs.",
            "items": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "value": {
                  "type": "string",
                  "description": "The localized text or URI reference"
                },
                "languageCode": {
                  "type": "string",
                  "description": "The language code of the localization in ISO 639-1 format"
                }
              }
            }
          },
          "urls": {
            "type": "array",
            "description": "The URLs associated with the attachment, each referring to a different representation of the attachment.",
            "items": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "url": {
                  "type": "string",
                  "description": "The fully qualified URL of the attachment.",
                  "format": "uri"
                },
                "mediaType": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "description": "The media type of the attachment."
                },
                "consumerType": {
                  "type": "string",
                  "description": "",
                  "x-enumNames": [
                    "Gui",
                    "Api"
                  ],
                  "enum": [
                    "Gui",
                    "Api"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "transmissions": {
      "type": "array",
      "description": "The immutable list of transmissions associated with the dialog",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": [
              "string",
              "null"
            ],
            "description": "A self-defined UUIDv7 may be provided in order to support idempotent creation of transmissions. If not provided, a new UUIDv7 will be generated.",
            "format": "guid"
          },
          "createdAt": {
            "type": "string",
            "description": "If supplied, overrides the creating date and time for the transmission\nIf not supplied, the current date /time will be used.",
            "format": "date-time"
          },
          "authorizationAttribute": {
            "type": [
              "string",
              "null"
            ],
            "description": "Contains an authorization resource attributeId, that can used in custom authorization rules in the XACML service\npolicy, which by default is the policy belonging to the service referred to by \"serviceResource\" in the dialog.\n            \nCan also be used to refer to other service policies."
          },
          "extendedType": {
            "type": [
              "string",
              "null"
            ],
            "description": "Arbitrary URI/URN describing a service-specific transmission type.\n            \nRefer to the service-specific documentation provided by the service owner for details (if in use).",
            "format": "uri"
          },
          "relatedTransmissionId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Reference to any other transmission that this transmission is related to.",
            "format": "guid"
          },
          "type": {
            "type": "string",
            "description": "",
            "x-enumNames": [
              "Information",
              "Acceptance",
              "Rejection",
              "Request",
              "Alert",
              "Decision",
              "Submission",
              "Correction"
            ],
            "enum": [
              "Information",
              "Acceptance",
              "Rejection",
              "Request",
              "Alert",
              "Decision",
              "Submission",
              "Correction"
            ]
          },
          "sender": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "actorType": {
                "type": "string",
                "description": "",
                "x-enumNames": [
                  "PartyRepresentative",
                  "ServiceOwner"
                ],
                "enum": [
                  "PartyRepresentative",
                  "ServiceOwner"
                ]
              },
              "actorName": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Specifies the name of the entity that sent the transmission. Mutually exclusive with ActorId. If ActorId\nis supplied, the name will be automatically populated from the name registries."
              },
              "actorId": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "The identifier of the person or organization that sent the transmission. Mutually exclusive with ActorName.\nMight be omitted if ActorType is \"ServiceOwner\"."
              }
            }
          },
          "content": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "title": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "value": {
                    "type": "array",
                    "description": "A list of localizations for the content",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "value": {
                          "type": "string",
                          "description": "The localized text or URI reference"
                        },
                        "languageCode": {
                          "type": "string",
                          "description": "The language code of the localization in ISO 639-1 format"
                        }
                      }
                    }
                  },
                  "mediaType": {
                    "type": "string",
                    "description": "Media type of the content (plaintext, Markdown). Can also indicate that the content is embeddable."
                  }
                }
              },
              "summary": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "value": {
                    "type": "array",
                    "description": "A list of localizations for the content",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "value": {
                          "type": "string",
                          "description": "The localized text or URI reference"
                        },
                        "languageCode": {
                          "type": "string",
                          "description": "The language code of the localization in ISO 639-1 format"
                        }
                      }
                    }
                  },
                  "mediaType": {
                    "type": "string",
                    "description": "Media type of the content (plaintext, Markdown). Can also indicate that the content is embeddable."
                  }
                }
              }
            }
          },
          "attachments": {
            "type": "array",
            "description": "The transmission-level attachments",
            "items": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "displayName": {
                  "type": "array",
                  "description": "The display name of the attachment that should be used in GUIs.",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "value": {
                        "type": "string",
                        "description": "The localized text or URI reference"
                      },
                      "languageCode": {
                        "type": "string",
                        "description": "The language code of the localization in ISO 639-1 format"
                      }
                    }
                  }
                },
                "urls": {
                  "type": "array",
                  "description": "The URLs associated with the attachment, each referring to a different representation of the attachment.",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "url": {
                        "type": "string",
                        "description": "The fully qualified URL of the attachment.",
                        "format": "uri"
                      },
                      "mediaType": {
                        "type": [
                          "string",
                          "null"
                        ],
                        "description": "The media type of the attachment."
                      },
                      "consumerType": {
                        "type": "string",
                        "description": "",
                        "x-enumNames": [
                          "Gui",
                          "Api"
                        ],
                        "enum": [
                          "Gui",
                          "Api"
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "guiActions": {
      "type": "array",
      "description": "The GUI actions associated with the dialog. Should be used in browser-based interactive frontends.",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "action": {
            "type": "string",
            "description": "The action identifier for the action, corresponding to the \"action\" attributeId used in the XACML service policy,"
          },
          "url": {
            "type": "string",
            "description": "The fully qualified URL of the action, to which the user will be redirected when the action is triggered. Will be set to\n\"urn:dialogporten:unauthorized\" if the user is not authorized to perform the action.",
            "format": "uri"
          },
          "authorizationAttribute": {
            "type": [
              "string",
              "null"
            ],
            "description": "Contains an authorization resource attributeId, that can used in custom authorization rules in the XACML service\npolicy, which by default is the policy belonging to the service referred to by \"serviceResource\" in the dialog.\n            \nCan also be used to refer to other service policies."
          },
          "isDeleteDialogAction": {
            "type": "boolean",
            "description": "Indicates whether the action results in the dialog being deleted. Used by frontends to implement custom UX\nfor delete actions."
          },
          "httpMethod": {
            "type": "string",
            "description": "",
            "x-enumNames": [
              "GET",
              "POST",
              "PUT",
              "PATCH",
              "DELETE",
              "HEAD",
              "OPTIONS",
              "TRACE",
              "CONNECT"
            ],
            "enum": [
              "GET",
              "POST",
              "PUT",
              "PATCH",
              "DELETE",
              "HEAD",
              "OPTIONS",
              "TRACE",
              "CONNECT"
            ]
          },
          "priority": {
            "type": "string",
            "description": "",
            "x-enumNames": [
              "Primary",
              "Secondary",
              "Tertiary"
            ],
            "enum": [
              "Primary",
              "Secondary",
              "Tertiary"
            ]
          },
          "title": {
            "type": "array",
            "description": "The title of the action, this should be short and in verb form. Must be text/plain.",
            "items": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "value": {
                  "type": "string",
                  "description": "The localized text or URI reference"
                },
                "languageCode": {
                  "type": "string",
                  "description": "The language code of the localization in ISO 639-1 format"
                }
              }
            }
          },
          "prompt": {
            "type": [
              "array",
              "null"
            ],
            "description": "If there should be a prompt asking the user for confirmation before the action is executed,\nthis field should contain the prompt text.",
            "items": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "value": {
                  "type": "string",
                  "description": "The localized text or URI reference"
                },
                "languageCode": {
                  "type": "string",
                  "description": "The language code of the localization in ISO 639-1 format"
                }
              }
            }
          }
        }
      }
    },
    "apiActions": {
      "type": "array",
      "description": "The API actions associated with the dialog. Should be used in specialized, non-browser-based integrations.",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "action": {
            "type": "string",
            "description": "String identifier for the action, corresponding to the \"action\" attributeId used in the XACML service policy,\nwhich by default is the policy belonging to the service referred to by \"serviceResource\" in the dialog"
          },
          "authorizationAttribute": {
            "type": [
              "string",
              "null"
            ],
            "description": "Contains an authorization resource attributeId, that can used in custom authorization rules in the XACML service\npolicy, which by default is the policy belonging to the service referred to by \"serviceResource\" in the dialog.\n            \nCan also be used to refer to other service policies."
          },
          "endpoints": {
            "type": "array",
            "description": "The endpoints associated with the action.",
            "items": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "version": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "description": "Arbitrary string indicating the version of the endpoint."
                },
                "url": {
                  "type": "string",
                  "description": "The fully qualified URL of the API endpoint.",
                  "format": "uri"
                },
                "httpMethod": {
                  "type": "string",
                  "description": "",
                  "x-enumNames": [
                    "GET",
                    "POST",
                    "PUT",
                    "PATCH",
                    "DELETE",
                    "HEAD",
                    "OPTIONS",
                    "TRACE",
                    "CONNECT"
                  ],
                  "enum": [
                    "GET",
                    "POST",
                    "PUT",
                    "PATCH",
                    "DELETE",
                    "HEAD",
                    "OPTIONS",
                    "TRACE",
                    "CONNECT"
                  ]
                },
                "documentationUrl": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "description": "Link to documentation for the endpoint, providing documentation for integrators. Should be a URL to a\nhuman-readable page.",
                  "format": "uri"
                },
                "requestSchema": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "description": "Link to the request schema for the endpoint. Used to provide documentation for integrators.\nDialogporten will not validate information on this endpoint.",
                  "format": "uri"
                },
                "responseSchema": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "description": "Link to the response schema for the endpoint. Used to provide documentation for integrators.\nDialogporten will not validate information on this endpoint.",
                  "format": "uri"
                },
                "deprecated": {
                  "type": "boolean",
                  "description": "Boolean indicating if the endpoint is deprecated."
                },
                "sunsetAt": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "description": "Date and time when the endpoint will no longer function. Only set if the endpoint is deprecated. Dialogporten\nwill not enforce this date.",
                  "format": "date-time"
                }
              }
            }
          }
        }
      }
    },
    "activities": {
      "type": "array",
      "description": "An immutable list of activities associated with the dialog.",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": [
              "string",
              "null"
            ],
            "description": "A self-defined UUIDv7 may be provided in order to support idempotent creation of activities. If not provided, a new UUIDv7 will be generated.",
            "format": "guid"
          },
          "createdAt": {
            "type": [
              "string",
              "null"
            ],
            "description": "If supplied, overrides the creating date and time for the transmission.\nIf not supplied, the current date /time will be used.",
            "format": "date-time"
          },
          "extendedType": {
            "type": [
              "string",
              "null"
            ],
            "description": "Arbitrary URI/URN describing a service-specific transmission type.",
            "format": "uri"
          },
          "type": {
            "type": "string",
            "description": "",
            "x-enumNames": [
              "DialogCreated",
              "DialogClosed",
              "Information",
              "TransmissionOpened",
              "PaymentMade",
              "SignatureProvided"
            ],
            "enum": [
              "DialogCreated",
              "DialogClosed",
              "Information",
              "TransmissionOpened",
              "PaymentMade",
              "SignatureProvided"
            ]
          },
          "relatedActivityId": {
            "type": [
              "string",
              "null"
            ],
            "description": "The related activity identifier, if applicable. Must be present in the request body.",
            "format": "guid"
          },
          "transmissionId": {
            "type": [
              "string",
              "null"
            ],
            "description": "If the activity is related to a particular transmission, this field will contain the transmission identifier.\nMust be present in the request body.",
            "format": "guid"
          },
          "performedBy": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "actorType": {
                "type": "string",
                "description": "",
                "x-enumNames": [
                  "PartyRepresentative",
                  "ServiceOwner"
                ],
                "enum": [
                  "PartyRepresentative",
                  "ServiceOwner"
                ]
              },
              "actorName": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Specifies the name of the entity that performed the activity. Mutually exclusive with ActorId. If ActorId\nis supplied, the name will be automatically populated from the name registries."
              },
              "actorId": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "The identifier of the person or organization that performed the activity. Mutually exclusive with ActorName.\nMight be omitted if ActorType is \"ServiceOwner\"."
              }
            }
          },
          "description": {
            "type": "array",
            "description": "Unstructured text describing the activity. Only set if the activity type is \"Information\".",
            "items": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "value": {
                  "type": "string",
                  "description": "The localized text or URI reference"
                },
                "languageCode": {
                  "type": "string",
                  "description": "The language code of the localization in ISO 639-1 format"
                }
              }
            }
          }
        }
      }
    }
  },
  "$schema": "http://json-schema.org/draft-04/schema#"
}
