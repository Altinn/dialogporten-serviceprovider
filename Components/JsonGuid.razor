<div style="background-color: white">
    <label>@Values.PropertyName</label>
    <p>@Values.Description</p>
    @{
        <InputText
                        required="@IsRequired"
                        bind-Value="@Value"
                        ValueExpression="@(() => Value)"
                        ValueChanged="@(v => Data[Values.PropertyName] = Guid.TryParse(v, out var guid)
                                                      ? guid
                                                      : IsRequired
                                                                      ? null
                                                                      : Guid.Empty)"
        />
        <p>@IsRequired</p>
        if (IsRequired && Data[Values.PropertyName] is null)
        {
            <p>Denne er p√•kreved</p>
        }
    }
</div>
<br>

@code {
    [Parameter]
    public required FieldRecord.GuidRecord Values { get; set; }

    public bool IsRequired { get; set; }

    [Parameter]
    public required Dictionary<string, object?> Data { get; set; }

    private string? Value { get; set; }


    protected override void OnInitialized()
    {
        base.OnInitialized();
        Value = "";
        IsRequired = !Values.IsNullable;
        Data.TryAdd(Values.PropertyName, IsRequired ? Guid.Empty : null);
    }
}
